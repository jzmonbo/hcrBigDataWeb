<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<title></title>
<#include "/hcrcms_sys/head.html"/>
<script src="${base}/thirdparty/swfupload/swfupload.js" type="text/javascript"></script>
<script src="${base}/thirdparty/swfupload/swfupload.queue.js" type="text/javascript"></script>
<script src="${base}/thirdparty/swfupload/fileprogress.js" type="text/javascript"></script>
<script src="${base}/thirdparty/swfupload/handlers.js" type="text/javascript"></script>
<link href="${base}/thirdparty/swfupload/process.css" rel="stylesheet" type="text/css"/>

<script type="text/javascript">
var types = [];
<#list typeList as t>
	types[${t_index}] = {hasImage:${t.hasImage?string('true','false')},imgWidth:${t.imgWidth},imgHeight:${t.imgHeight}};
</#list>
function typeChange(n) {
	var tr = $('#tr-typeImg');
	tr.toggle(types[n].hasImage);
	$('#zoomWidth0').val(types[n].imgWidth);
	$('#zoomHeight0').val(types[n].imgHeight);
}
$.validator.methods.leafChannel = function(value, element, param) {
	var i = element.selectedIndex;
	return $(element.options[i]).attr("class")!="sel-disabled";
}
$(function() {
	$("#titleColor").colorPicker();
	//先隐藏自定义上传行
	$("#uploadImgPath4").parent().parent().hide();
	$("#selectImg").hide();
	$("#jvForm").validate({
		rules: {
			channelId: {
				//required: true,
				leafChannel: true
			},
			docPath:{
				required: true
			},
			mediaType: {
				required: function() {return $("#mediaPath").val()!=""}
			}
		},
		messages:{
			channelId: {
				leafChannel: "<@s.m "content.error.notLeafChannel"/>"
			},
			docPath:$.validator.messages.required,
			mediaType:$.validator.messages.required
		}
	});
	var tr = $('#tr-typeImg');
	tr.toggle(${content.type.hasImage?string("true","false")});
	<#if content.typeImg??>
	$("#preImg0").css("width","auto").css("height","auto").attr("src","${content.typeImg}?d="+new Date()*1);
	</#if>
	<#if content.titleImg??>
	$("#preImg1").css("width","auto").css("height","auto").attr("src","${content.titleImg}?d="+new Date()*1);
	</#if>
	<#if content.contentImg??>
	$("#preImg2").css("width","auto").css("height","auto").attr("src","${content.contentImg}?d="+new Date()*1);
	</#if>
	
	$("#channelsDialog").dialog({
		autoOpen: false,
		modal: true,
		width: 280,
		height: 400,
		position: ["center",20],
		buttons: {
			"OK": function() {
				$("#channelsSelector input[name='channels']:checked").each(function(){
					appendChannels(this);
					$(this).removeAttr("checked");
				});
				$(this).dialog("close");
			}
		}
	});
	$('#channelsLink').click(function(){
		$('#channelsDialog').dialog('open');
		return false;
	});	
	$("#channelsSelector").treeview({
		url: "v_tree_channels.so"
	});
	$("input[name=origin]").autocomplete({
		 source: "../origin/v_ajax_list.so",
		 minLength: 1,
		 autoFocus: true
	});
	$(document).tooltip();
});

function appendChannels(channel) {
	var hasContain = false;
	$("input[name=channelIds]").each(function() {
		if($(this).val()==$(channel).val()) {
			hasContain = true;
		}
	});
	if(hasContain) {
		return;
	}
	var nodeList = eval($(channel).attr("nodeList"));
	var s = "<div style='padding-top:3px'>";
	for(var i=0,len=nodeList.length;i<len;i++) {
		s += nodeList[i];
		if(i<len-1) {
			s += " > ";
		}
	}
	s += " <a href='javascript:void(0);' onclick='$(this).parent().remove();' class='pn-opt'><@s.m "global.delete"/></a>";
	s += "<input type='hidden' name='channelIds' value='"+$(channel).val()+"'/>";
	s += "</div>";
	$("#channelsContainer").append(s);
}
function generateTags(){
	/*$.post("o_generateTags.so", {
		title:$("input[name='title']").val()
	}, function(data) {
		$("input[name='tagStr']").val(data.tags);
	}, "json");*/
	
	$("input[name=shortTitle]").val($("input[name=title]").val());
	$("input[name=tagStr]").val($("input[name=title]").val());
}
var swfu;
window.onload=function() {
	var uploadPicsUrl = "../common/o_swfPicsUpload.so";
	var uploadAttachsUrl = "../common/o_swfAttachsUpload.so";
	//在firefox、chrome下，上传不能保留登录信息，所以必须加上jsessionid。
	var jsessionid = $.cookie("JSESSIONID");
	if(jsessionid) {
		uploadPicsUrl += ";jsessionid="+jsessionid;
		uploadAttachsUrl += ";jsessionid="+jsessionid;
	}
	<#if model.modelItems?seq_contains("pictures")>
	swfu=new SWFUpload({
		upload_url : uploadPicsUrl,
		flash_url : "${base}/thirdparty/swfupload/swfupload.swf",
		file_size_limit : "20 MB",
		file_types : "*.jpg;*.gif;*.png;*.bmp",
		file_types_description : "<@s.m 'content.picture'/>",
		file_queue_limit : 0,
		custom_settings : {
			progressTarget : "fsUploadProgress",
			cancelButtonId : "btnCancel"
		},
		debug: false,
		
		button_image_url : "${base}/res/common/img/theme/menu_search.jpg",
		button_placeholder_id : "spanButtonPlaceHolder",
		button_text: "<span class='btnText'><@s.m "content.pictures.upload"/></span>",
		button_width: 52,
		button_height: 19,
		button_text_top_padding: 2,
		button_text_left_padding: 0,
		button_text_style: '.btnText{color:#666666;}',
		
		file_queued_handler : fileQueued,
		file_queue_error_handler : fileQueueError,
		file_dialog_complete_handler : fileDialogComplete,
		upload_progress_handler : uploadProgress,
		upload_error_handler : uploadError,
		upload_success_handler : uploadPicsSuccess,
		upload_complete_handler : uploadComplete,
		queue_complete_handler : queueComplete
	});
	</#if>
	<#if model.modelItems?seq_contains("attachments")>
	swfau=new SWFUpload({
		upload_url : uploadAttachsUrl,
		flash_url : "${base}/thirdparty/swfupload/swfupload.swf",
		file_size_limit : "2000 MB",
		file_types : "*.*",
		file_types_description : "All Types",
		file_queue_limit : 0,
		custom_settings : {
			progressTarget : "afsUploadProgress",
			cancelButtonId : "abtnCancel"
		},
		debug: false,
		
		button_image_url : "${base}/res/common/img/theme/menu_search.jpg",
		button_placeholder_id : "aspanButtonPlaceHolder",
		button_text: "<span class='btnText'><@s.m "content.pictures.upload"/></span>",
		button_width: 52,
		button_height: 19,
		button_text_top_padding: 2,
		button_text_left_padding: 0,
		button_text_style: '.btnText{color:#666666;}',
		
		file_queued_handler : fileQueued,
		file_queue_error_handler : fileQueueError,
		file_dialog_complete_handler : fileDialogComplete,
		upload_progress_handler : uploadProgress,
		upload_error_handler : uploadError,
		upload_success_handler : uploadAttachSuccess,
		upload_complete_handler : uploadComplete,
		queue_complete_handler : queueComplete
	});
	</#if>
};
function uploadPicsSuccess(file,data) {
	var jsonData=eval("("+data+")");//转换为json对象 
	if(jsonData.error!=null){
		$.alert("<@s.m 'global.prompt'/>",jsonData.error);
	}else{
		addPicLine();
		var index = picIndex - 1;
		imgUrl=jsonData.imgUrl;
		$("#preImg"+index).attr("src",""+imgUrl);
		var imgSrc = parent.document.getElementById("preImg"+index);
		if(!$(imgSrc).attr("noResize")) {
			$(imgSrc).css("width","auto");
			$(imgSrc).css("height","auto");
		}
		$("#uploadImgPath"+index).val(imgUrl);
	}
}
function uploadAttachSuccess(file,data) {
	var jsonData=eval("("+data+")");//转换为json对象 
	if(jsonData.error!=null){
		$.alert("<@s.m 'global.prompt'/>",jsonData.error);
	}else{
		addAttachLine();
		var index = attachIndex - 1;
		var attachUrl=jsonData.attachUrl;
		var attachName=jsonData.attachName;
		$("#attachmentPaths"+index).val(attachUrl);
		$("#attachmentNames"+index).val(attachName);
	}
}
function submitContent(){
	//选择发送微信消息
	var t=$("#sendType").val();
	if(t!=0){
		//获取编辑器中内容ckeditor和ueditor是不一样的
		if(t==1&&CKEDITOR.instances.txt.getData()==""){
			//图文需要校验文本框
			$.alert("<@s.m 'global.prompt'/>","<@s.m 'content.txt.required'/>");
			return false;
		}else if(t==2&&$("#mediaPath").val()==""){
			//视频需要校验
			$.alert("<@s.m 'global.prompt'/>","<@s.m 'content.media.required'/>");
			return false;
		}else if(t==3){
			//图片需要校验
			var i=$("#selectImg").val();
			if(i==1&&$("input[name='typeImg']").val()==""){
				//类型图必须
				$.alert("<@s.m 'global.prompt'/>","<@s.m 'content.typeimage.required'/>");
				return false;
			}else if(i==2&&$("input[name='titleImg']").val()==""){
				//标题图必须
				$.alert("<@s.m 'global.prompt'/>","<@s.m 'content.titleimage.required'/>");
				return false;
			}else if(i==3&&$("input[name='contentImg']").val()==""){
				//内容图必须
				$.alert("<@s.m 'global.prompt'/>","<@s.m 'content.contentimage.required'/>");
				return false;
			}else if(i==0&&$("input[name='weixinImg']").val()==""){
				//自定义图必须
				$.alert("<@s.m 'global.prompt'/>","<@s.m 'content.image.required'/>");
				return false;
			}
		}
	}
	return true;
}

/*function selectResult(n){
	var selectValue;
	$('#channelId option').each(function(){
		if ($(this).val() == n){
			selectValue = $(this).text();
		}
	});
	if (selectValue == '新闻咨讯'){		//判断是否大图
		if ($("#datuDisplay").length<1){
			$("#bigPictureUpload").css("display","none");
			$("#isBigTuDisplay").css("display","block");
			$("#isIndexrankDisplay").css("display","block");
			$("#xueTangFeiLei").css("display","none");
			$("#bigPictureLocal").val("0");					//0表示不是大图,后台需要判断
			$("#xueTangCatory").val("0");					//0表示没有分类,后台需要判断
			$("input[name=xueTangFL]").removeAttr("checked");
			$("#meetingId option:first").prop("selected", 'selected');			//把专题下拉表置为默认值
			$("#siteLocation option:first").prop("selected", 'selected');
			$("#specialTopicDiv").css("display","none");
			$("#zhishu").css("display","none");
			$("input[name=indexrank]").removeAttr("checked");
			$("#indexrankLocal").val("0");
			$("#recommendInterviewCheck").css("display","none");
		}else{
			$("#datuDisplay").css("display","block");
		}
	}else if (selectValue == '大数据学堂'){	//判断是否学堂的百科/书单/培训
		if ($("#datuDisplay").length<1){
			$("#bigPictureUpload").css("display","none");
			$("#xueTangFeiLei").css("display","block");
			$("#isBigTuDisplay").css("display","none");
			$("#isIndexrankDisplay").css("display","none");
			$("#bigLocaldiv").css("display","none");
			$("#bigPictureUpload").css("display","block");
			$("#bigPictureLocal").val("0");					//0表示不是大图,后台需要判断
			$("#xueTangCatory").val("0");					//0表示没有分类,后台需要判断
			$("#uploadImgPathBig").val("");
			$("input[name=isbigtu]").removeAttr("checked");
			$("input[name=bigTuLocal]").removeAttr("checked");
			$("#meetingId option:first").prop("selected", 'selected');			//把专题下拉表置为默认值
			$("#siteLocation option:first").prop("selected", 'selected');
			$("#specialTopicDiv").css("display","none");
			$("#zhishu").css("display","none");
			$("input[name=indexrank]").removeAttr("checked");
			$("#indexrankLocal").val("0");
			$("#recommendInterviewCheck").css("display","none");
		}else{
			$("#datuDisplay").css("display","none");
		}
	}else if (selectValue == '人物专访'){
		if ($("#datuDisplay").length<1){
			$("input[name=isbigtu]").removeAttr("checked");
			$("input[name=bigTuLocal]").removeAttr("checked");
			$("input[name=xueTangFL]").removeAttr("checked");
			$("#isBigTuDisplay").css("display","none");
			$("#isIndexrankDisplay").css("display","none");
			$("#xueTangFeiLei").css("display","none");
			$("#bigLocaldiv").css("display","none");
			$("#bigPictureUpload").css("display","block");
			$("#bigPictureLocal").val("0");					//0表示不是大图,后台需要判断
			$("#xueTangCatory").val("0");					//0表示没有分类,后台需要判断
			$("#uploadImgPathBig").val("");
			$("#meetingId option:first").prop("selected", 'selected');			//把专题下拉表置为默认值
			$("#siteLocation option:first").prop("selected", 'selected');
			$("#specialTopicDiv").css("display","none");
			$("#zhishu").css("display","none");
			$("input[name=indexrank]").removeAttr("checked");
			$("#indexrankLocal").val("0");
			$("#recommendInterviewCheck").css("display","block");
		}else{
			$("#datuDisplay").css("display","none");
		}
	}else if (selectValue == '专题活动'){
		if ($("#datuDisplay").length<1){
			$("input[name=isbigtu]").removeAttr("checked");
			$("input[name=bigTuLocal]").removeAttr("checked");
			$("input[name=xueTangFL]").removeAttr("checked");
			$("#isBigTuDisplay").css("display","none");
			$("#isIndexrankDisplay").css("display","none");
			$("#xueTangFeiLei").css("display","none");
			$("#bigLocaldiv").css("display","none");
			$("#bigPictureUpload").css("display","none");
			$("#bigPictureLocal").val("0");					//0表示不是大图,后台需要判断
			$("#xueTangCatory").val("0");					//0表示没有分类,后台需要判断
			$("#uploadImgPathBig").val("");
			$("#specialTopicDiv").css("display","block");
			$("#zhishu").css("display","none");
			$("input[name=indexrank]").removeAttr("checked");
			$("#indexrankLocal").val("0");
			$("#recommendInterviewCheck").css("display","none");
		}else{
			$("#datuDisplay").css("display","none");
		}
	}else if (selectValue == '指数排行'){
		if ($("#datuDisplay").length<1){
			$("#zhishu").css("display","block");
			$("input[name=isbigtu]").removeAttr("checked");
			$("input[name=bigTuLocal]").removeAttr("checked");
			$("input[name=xueTangFL]").removeAttr("checked");
			$("#isBigTuDisplay").css("display","none");
			$("#isIndexrankDisplay").css("display","none");
			$("#xueTangFeiLei").css("display","none");
			$("#bigLocaldiv").css("display","none");
			$("#bigPictureUpload").css("display","none");
			$("#bigPictureLocal").val("0");					//0表示不是大图,后台需要判断
			$("#xueTangCatory").val("0");					//0表示没有分类,后台需要判断
			$("#uploadImgPathBig").val("");
			$("#meetingId option:first").prop("selected", 'selected');			//把专题下拉表置为默认值
			$("#siteLocation option:first").prop("selected", 'selected');
			$("#specialTopicDiv").css("display","none");
			$("#recommendInterviewCheck").css("display","none");
		}else{
			$("#datuDisplay").css("display","none");
		}
	}else if (selectValue == '活动推荐'){
		if ($("#datuDisplay").length<1){
			$("input[name=isbigtu]").removeAttr("checked");
			$("input[name=bigTuLocal]").removeAttr("checked");
			$("input[name=xueTangFL]").removeAttr("checked");
			$("#isBigTuDisplay").css("display","none");
			$("#isIndexrankDisplay").css("display","none");
			$("#xueTangFeiLei").css("display","none");
			$("#bigLocaldiv").css("display","none");
			$("#bigPictureUpload").css("display","none");
			$("#bigPictureLocal").val("0");					//0表示不是大图,后台需要判断
			$("#xueTangCatory").val("0");					//0表示没有分类,后台需要判断
			$("#uploadImgPathBig").val("");
			$("#meetingId option:first").prop("selected", 'selected');			//把专题下拉表置为默认值
			$("#siteLocation option:first").prop("selected", 'selected');
			$("#specialTopicDiv").css("display","none");
			$("#zhishu").css("display","none");
			$("input[name=indexrank]").removeAttr("checked");
			$("#indexrankLocal").val("0");
			$("#recommendInterviewCheck").css("display","none");
		}else{
			$("#datuDisplay").css("display","none");
		}
	}else{
		if ($("#datuDisplay").length<1){
			$("input[name=isbigtu]").removeAttr("checked");
			$("input[name=bigTuLocal]").removeAttr("checked");
			$("input[name=xueTangFL]").removeAttr("checked");
			$("#isBigTuDisplay").css("display","none");
			$("#isIndexrankDisplay").css("display","none");
			$("#xueTangFeiLei").css("display","none");
			$("#bigLocaldiv").css("display","none");
			$("#bigPictureUpload").css("display","none");
			$("#bigPictureLocal").val("0");					//0表示不是大图,后台需要判断
			$("#xueTangCatory").val("0");					//0表示没有分类,后台需要判断
			$("#uploadImgPathBig").val("");
			$("#meetingId option:first").prop("selected", 'selected');			//把专题下拉表置为默认值
			$("#siteLocation option:first").prop("selected", 'selected');
			$("#specialTopicDiv").css("display","none");
			$("#zhishu").css("display","none");
			$("input[name=indexrank]").removeAttr("checked");
			$("#indexrankLocal").val("0");
			$("#recommendInterviewCheck").css("display","none");
		}else{
			$("#datuDisplay").css("display","none");
		}
	}
}*/

function selectBigTu(val){
	if (val = 0 || val == "0"){					//不是大图
		$("#bigLocaldiv").css("display","none");
		$("#bigPictureUpload").css("display","none");
		$("#bigPictureLocal").val("0");
		$("#uploadImgPathBig").val("");
	}else if (val = 1 || val == "1"){			//是大图
		$("#bigLocaldiv").css("display","block");
		$("#bigPictureUpload").css("display","block");
		$("#bigPictureLocal").val($("#bigTuLocal").val());
	}
}

function selectIndexrankBigTu(val){
	if (val = 0 || val == "0"){					//不是大图
		$("#zhishu").css("display","none");
		$("#indexrankLocal").val("0");
	}else if (val = 1 || val == "1"){			//是大图
		$("#zhishu").css("display","block");
		$("#indexrankLocal").val($("#bigTuLocal").val());
	}
}

function selectBigTuVal(val){
	$("#bigPictureLocal").val(val);
}

function selectBaikeyVal(val){
	$("#xueTangCatory").val(val);
}

function selectIndexVal(val){
	$("#indexrankLocal").val(val);
}
function recommendInterviewCheckStatus(lia,checked){
	if (checked){
		$(lia).val(20);
	}else{
		$(lia).val(0);
	}
}

function ziyuanshangchuan(num){
	$('.box').show();
	$(".box1").children("div").each(function(k,v){
		if (num == k && k == 0){
			$("#xinwenzixunSC").show();
		}else if (num == k && k == 1){
			$("#mySportCheck").show();
		}else if (num == k && k == 2){
			$("#renwuzhuanfangSC").show();
		}else if (num == k && k == 3){
			$("#dashujuxuetangSC").show();
		}else if (num == k && k == 4){
			$("#specialTopicDiv").show();
		}else if (num == k && k == 5){
			$("#zhishudatuSC").show();
		}else{
			$(this).hide();
		}
	});
}

$(function(){
	//初使化分类选中状态
	var releaseMoreCategory = "${content.releaseMoreCategory}";
	var moreCategories = releaseMoreCategory.split(",");
	$("#selectMoreChannel").children().each(function(k,v){
		var val = parseInt($(this).val());
		for (var i=0;i<moreCategories.length;i++){
			var sval = parseInt(moreCategories[i]);
			if (sval == val){
				$(this).attr("checked",true);
				break;
			}
		}
	});
});

function updateMoreChannels(lia){
	if ($(lia).is(':checked')){
		$(lia).attr("checked",true);
	}else{
		$(lia).removeAttr("checked");
	}
}
</script>
<style>
    *{padding: 0; margin: 0}
    .box{
        position: fixed;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.2);
        display: none;
    }
    .box1{
        width: 450px;
        height: 300px;
        position: fixed;left: 43%; top: 25%;
        margin-left: -250px;
        border: 1px solid #000000;
        background: #ffffff none repeat scroll 0 0;
        padding:20px;
    }
</style>
<style type="text/css">
.sel-disabled{background-color:#ccc}
</style>
</head>
<body>
<div class="box-positon">
	<div class="rpos"><@s.m "global.position"/>:  <@s.m "content.function"/> - <@s.m "global.edit"/></div>
	<form class="ropt">
		<input type="submit" value="<@s.m "global.backToList"/>" onclick="this.form.action='v_list.so';" class="return-button"/>
		<input type="hidden" name="pageNo" value="${pageNo!}"/>
		<input type="hidden" name="cid" value="${cid!}"/>
		<#list .data_model?keys as pkey>
		<#if pkey?starts_with('query')><input type="hidden" name="${pkey}" value="${(.data_model[pkey])!?string}"/></#if><#t/>
		</#list>
	</form>
	<div class="clear"></div>
</div>
<div class="body-box">
<#include "/common/image_upload.html"/>
<#include "attachment_upload.html"/>
<#include "media_upload.html"/>
<@p.form id="jvForm" action="o_update.so" labelWidth="10">
<#assign count=0/>
<#list itemList as item>
<#if !item.single><#assign count=count+1/></#if>
<#if !item.custom>


<#if item.field=="channelId">
<#assign h><#if item.help??>${item.help}<#else><@s.m "content."+item.field+".help"/></#if></#assign>
<@p.td required="true" label=item.label colspan=item.single?string("2","1") width="${item.single?string(100,50)}">
<div style="float:left">
<div>
<!-- <select id="${item.field}" name="${item.field}"  onchange="selectResult(this.value)">
	<option value="" class="sel-disabled"><@s.m "global.pleaseSelect"/></option>
<#if channelList?size gt 0>
<#assign origDeep=channelList[0].deep+1/>
<#list channelList as c>
	<#if c.hasContent || c.child?size gt 0>
	<option value="${c.id}"<#if c.id == content.channel.id> selected="selected"</#if><#if c.modelIds?size gt 0&&!c.modelIds?seq_contains(model.id?string) || c.child?size gt 0> class="sel-disabled"</#if>><#if c.deep gte origDeep><#list origDeep..c.deep as i>&nbsp;&nbsp;</#list>></#if>${c.name}</option>
	</#if>
</#list>
</#if>
</select> -->
	<div id="selectMoreChannel">
		分享多个分类：<br />
		<#list channelList as c>
			<#if c.id == 70>
				<input type="checkbox" name="moreChannels" value="${c.id}" onchange="updateMoreChannels(this)" /><input type="button" value="${c.name}" onclick="ziyuanshangchuan(0)" />&nbsp;&nbsp;
			<#elseif c.id == 74>
				<input type="checkbox" name="moreChannels" value="${c.id}" onchange="updateMoreChannels(this)" /><input type="button" value="${c.name}" onclick="ziyuanshangchuan(1)" />&nbsp;&nbsp;
			<#elseif c.id == 75>
				<input type="checkbox" name="moreChannels" value="${c.id}" onchange="updateMoreChannels(this)" /><input type="button" value="${c.name}" onclick="ziyuanshangchuan(2)" />&nbsp;&nbsp;
			<#elseif c.id == 76>
				<input type="checkbox" name="moreChannels" value="${c.id}" onchange="updateMoreChannels(this)" /><input type="button" value="${c.name}" onclick="ziyuanshangchuan(3)" />&nbsp;&nbsp;
			<#elseif c.id == 84>
				<input type="checkbox" name="moreChannels" value="${c.id}" onchange="updateMoreChannels(this)" /><input type="button" value="${c.name}" onclick="ziyuanshangchuan(4)" />&nbsp;&nbsp;
			<#elseif c.id == 85>
				<input type="checkbox" name="moreChannels" value="${c.id}" onchange="updateMoreChannels(this)" /><input type="button" value="${c.name}" onclick="ziyuanshangchuan(5)" />&nbsp;&nbsp;
			<#else>
				<input type="checkbox" name="moreChannels" value="${c.id}" onchange="updateMoreChannels(this)" />${c.name}&nbsp;&nbsp;
			</#if> 
		</#list>
		<input type="hidden" id="moreChannelsh" name="moreChannelsh" value="${content.releaseMoreCategory}" />
		<input type="hidden" id="moreContentIds" name="moreContentIds" value="${content.releaseMoreId}" />
		<input type="hidden" id="contentImgCompare" name="contentImgCompare" value="${content.contentImg?default('')}" />
	</div>
</div>
<div class="box">
	<div class="box1">
		<a href="javascript:;" onclick="$('.box').hide()" class="close" style="float:right;color:#ff0033;font-size:18px;right:0;top:0;position:absolute;">关闭</a>
		<div id="xinwenzixunSC" style="display:none;">
			<h3>新闻资讯资源上传:</h3>
			<div id="isBigTuDisplay">
				是否大图:
				<#if content.article?? && content.article == '首页大图'>
					<input type="radio" name="isbigtu" value="1" checked="checked" onclick="selectBigTu(this.value);">是</input>
					<input type="radio" name="isbigtu" value="0" onclick="selectBigTu(this.value);">否</input>
				<#else>
					<input type="radio" name="isbigtu" value="1" onclick="selectBigTu(this.value);">是</input>
					<input type="radio" name="isbigtu" value="0" checked="checked" onclick="selectBigTu(this.value);">否</input>
				</#if>
			</div>
			<div id="bigLocaldiv">
				大图位置:
				<#if content.classify?? && content.classify != '99999'>
					<#if content.article == '首页大图' && content.classify == '1'>
						<input type="radio" name="bigTuLocal" value="1" checked="checked" onclick="selectBigTuVal(this.value)">图1</input>
						<input type="radio" name="bigTuLocal" value="2" onclick="selectBigTuVal(this.value)">图2</input>
						<input type="radio" name="bigTuLocal" value="3" onclick="selectBigTuVal(this.value)">图3</input>
						<input type="radio" name="bigTuLocal" value="4" onclick="selectBigTuVal(this.value)">图4</input>
					<#elseif content.article == '首页大图' && content.classify == '2'>
						<input type="radio" name="bigTuLocal" value="1" onclick="selectBigTuVal(this.value)">图1</input>
						<input type="radio" name="bigTuLocal" value="2" checked="checked" onclick="selectBigTuVal(this.value)">图2</input>
						<input type="radio" name="bigTuLocal" value="3" onclick="selectBigTuVal(this.value)">图3</input>
						<input type="radio" name="bigTuLocal" value="4" onclick="selectBigTuVal(this.value)">图4</input>
					<#elseif content.article == '首页大图' && content.classify == '3'>
						<input type="radio" name="bigTuLocal" value="1" onclick="selectBigTuVal(this.value)">图1</input>
						<input type="radio" name="bigTuLocal" value="2" onclick="selectBigTuVal(this.value)">图2</input>
						<input type="radio" name="bigTuLocal" value="3" checked="checked" onclick="selectBigTuVal(this.value)">图3</input>
						<input type="radio" name="bigTuLocal" value="4" onclick="selectBigTuVal(this.value)">图4</input>
					<#elseif content.article == '首页大图' && content.classify == '4'>
						<input type="radio" name="bigTuLocal" value="1" onclick="selectBigTuVal(this.value)">图1</input>
						<input type="radio" name="bigTuLocal" value="2" onclick="selectBigTuVal(this.value)">图2</input>
						<input type="radio" name="bigTuLocal" value="3" onclick="selectBigTuVal(this.value)">图3</input>
						<input type="radio" name="bigTuLocal" value="4" checked="checked" onclick="selectBigTuVal(this.value)">图4</input>
					<#else>
						<input type="radio" name="bigTuLocal" value="1" onclick="selectBigTuVal(this.value)">图1</input>
						<input type="radio" name="bigTuLocal" value="2" onclick="selectBigTuVal(this.value)">图2</input>
						<input type="radio" name="bigTuLocal" value="3" onclick="selectBigTuVal(this.value)">图3</input>
						<input type="radio" name="bigTuLocal" value="4" onclick="selectBigTuVal(this.value)">图4</input>
					</#if>
				<#else>
					<input type="radio" name="bigTuLocal" value="1" onclick="selectBigTuVal(this.value)">图1</input>
					<input type="radio" name="bigTuLocal" value="2" onclick="selectBigTuVal(this.value)">图2</input>
					<input type="radio" name="bigTuLocal" value="3" onclick="selectBigTuVal(this.value)">图3</input>
					<input type="radio" name="bigTuLocal" value="4" onclick="selectBigTuVal(this.value)">图4</input>
				</#if>
			</div>
			<div id="bigPictureUpload">
				<@p.text id="uploadImgPath10" name="bigPictureImg" style="width:220px" value="${content.bigPictureImg?default('')}"/> <input type="button" value="<@s.m "imageupload.preview"/>" onclick="previewImg(10);" class="preview-button"/><br/>
				<span id="ufc2" style="position:relative">
				<input type='text' id='uploadFileText10' size="14"/>  
				<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
				<input onchange="$('#uploadFileText10').val(this.value)" size="14" type="file" id="uploadFile10" class="file-button"/>
				</span>
				<label><input type="checkbox" onclick="$('#mark2').val(this.checked);"/><@s.m "imageupload.mark"/></label><input type="hidden" id="mark2" value="false"/> <input type="button" value="<@s.m "imageupload.upload"/>" onclick="upload(10);" class="upload-button"/><label id="uploadIMgPathRule10"></label><br/>
				<@s.m "global.width"/>: <input type="text" id="zoomWidth2" value="${(channel.contentImgWidth)!}" size="5"/> <@s.m "global.height"/>: <input type="text" id="zoomHeight2" value="${(channel.contentImgWidth)!}" size="5"/> <input type="button" value="<@s.m "imageupload.cut"/>" onclick="imgCut(10);" class="cut-button"/> 
			</div>
			<HR SIZE=5>
			<div id="isIndexrankDisplay">
				是否指数排行大图:
				<#if content.isBigPicture == 2>
					<input type="radio" name="isIndexrankbigtu" value="1" checked="checked" onclick="selectIndexrankBigTu(this.value);">是</input>
					<input type="radio" name="isIndexrankbigtu" value="0" onclick="selectIndexrankBigTu(this.value);">否</input>
				<#else>
					<input type="radio" name="isIndexrankbigtu" value="1" onclick="selectIndexrankBigTu(this.value);">是</input>
					<input type="radio" name="isIndexrankbigtu" value="0" checked="checked" onclick="selectIndexrankBigTu(this.value);">否</input>
				</#if>
			</div>
			<div id="zhishu">
				<#if content.classify?? && content.isBigPicture == 2>
					<#if content.classify == '1'>
						<input type="radio" name="indexrank" value="1" checked="checked" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
					<#elseif content.classify == '2'>
						<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" checked="checked" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
					<#elseif content.classify == '3'>
						<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" checked="checked" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
					<#elseif content.classify == '4'>
						<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" checked="checked" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
					<#elseif content.classify == '5'>
						<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" checked="checked" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
					<#elseif content.classify == '6'>
						<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" checked="checked" onclick="selectIndexVal(this.value)">图6</input>
					<#else>
						<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
					</#if>
				<#else>
					<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
					<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
					<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
					<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
					<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
					<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
				</#if>
			</div>
			<div>
				<@p.text id="uploadImgPath11" name="indexrankImg" style="width:220px" value="${content.indexrankImg?default('')}"/> <input type="button" value="<@s.m "imageupload.preview"/>" onclick="previewImg(11);" class="preview-button"/><br/>
				<span id="ufc2" style="position:relative">
				<input type='text' id='uploadFileText11' size="14"/>  
				<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
				<input onchange="$('#uploadFileText11').val(this.value)" size="14" type="file" id="uploadFile11" class="file-button"/>
				</span>
				<label><input type="checkbox" onclick="$('#mark2').val(this.checked);"/><@s.m "imageupload.mark"/></label><input type="hidden" id="mark2" value="false"/> <input type="button" value="<@s.m "imageupload.upload"/>" onclick="upload(11);" class="upload-button"/><label id="uploadIMgPathRule11"></label><br/>
				<@s.m "global.width"/>: <input type="text" id="zoomWidth2" value="${(channel.contentImgWidth)!}" size="5"/> <@s.m "global.height"/>: <input type="text" id="zoomHeight2" value="${(channel.contentImgWidth)!}" size="5"/> <input type="button" value="<@s.m "imageupload.cut"/>" onclick="imgCut(11);" class="cut-button"/> 
			</div>
		</div>
		<div id="mySportCheck" sytle="display:none;">
			<input type="checkbox" id="mySport" name="mySport" value="${content.mySport}" 
			<#if content.mySport == 20>
				checked="checked"
			</#if>
			onclick="recommendInterviewCheckStatus(this,this.checked)" />数据猿活动
		</div>
		<div id="renwuzhuanfangSC" sytle="display:none;">
			<h3>人物专访资源上传：</h3>
			<div id="bigPictureUpload">
				<@p.text id="uploadImgPath20" name="renwuBigPictureImg" value="${content.renwuBigPictureImg?default('')}" style="width:220px"/> <input type="button" value="<@s.m "imageupload.preview"/>" onclick="previewImg(20);" class="preview-button"/><br/>
				<span id="ufc2" style="position:relative">
				<input type='text' id='uploadFileText20' size="14"/>  
				<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
				<input onchange="$('#uploadFileText20').val(this.value)" size="14" type="file" id="uploadFile20" class="file-button"/>
				</span>
				<label><input type="checkbox" onclick="$('#mark2').val(this.checked);"/><@s.m "imageupload.mark"/></label><input type="hidden" id="mark2" value="false"/> <input type="button" value="<@s.m "imageupload.upload"/>" onclick="upload(20);" class="upload-button"/><label id="uploadIMgPathRule20"></label><br/>
				<@s.m "global.width"/>: <input type="text" id="zoomWidth2" value="${(channel.contentImgWidth)!}" size="5"/> <@s.m "global.height"/>: <input type="text" id="zoomHeight2" value="${(channel.contentImgWidth)!}" size="5"/> <input type="button" value="<@s.m "imageupload.cut"/>" onclick="imgCut(20);" class="cut-button"/> 
			</div>
			<div id="recommendInterviewCheck">
				<input type="checkbox" id="recommendInterview" name="recommendInterview" value="${content.recommendInterview}" 
				<#if content.recommendInterview == 1>
					checked="checked"
				</#if>
				onclick="recommendInterviewCheckStatus(this,this.checked)" />推荐到人物专访大图页面
			</div>
		</div>
		<div id="dashujuxuetangSC" sytle="display:none;">
			<h3>大数据学堂资源上传：</h3>
			<div id="bigPictureUpload">
				<@p.text id="uploadImgPath21" name="xuetangBigPictureImg" value="${content.xuetangBigPictureImg?default('')}" style="width:220px"/> <input type="button" value="<@s.m "imageupload.preview"/>" onclick="previewImg(21);" class="preview-button"/><br/>
				<span id="ufc2" style="position:relative">
				<input type='text' id='uploadFileText21' size="14"/>  
				<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
				<input onchange="$('#uploadFileText21').val(this.value)" size="14" type="file" id="uploadFile20" class="file-button"/>
				</span>
				<label><input type="checkbox" onclick="$('#mark2').val(this.checked);"/><@s.m "imageupload.mark"/></label><input type="hidden" id="mark2" value="false"/> <input type="button" value="<@s.m "imageupload.upload"/>" onclick="upload(21);" class="upload-button"/><label id="uploadIMgPathRule21"></label><br/>
				<@s.m "global.width"/>: <input type="text" id="zoomWidth2" value="${(channel.contentImgWidth)!}" size="5"/> <@s.m "global.height"/>: <input type="text" id="zoomHeight2" value="${(channel.contentImgWidth)!}" size="5"/> <input type="button" value="<@s.m "imageupload.cut"/>" onclick="imgCut(21);" class="cut-button"/> 
			</div>
			<div id="xueTangFeiLei">
				大数据学堂分类：
				<#if content.xuetangClassify??>
					<#if content.xuetangClassify == '百科'>
						<input type="radio" name="xueTangFL" value="百科"  checked="checked" onclick="selectBaikeyVal(this.value)">百科</input>
						<input type="radio" name="xueTangFL" value="书单" onclick="selectBaikeyVal(this.value)">书单</input>
						<input type="radio" name="xueTangFL" value="培训" onclick="selectBaikeyVal(this.value)">培训</input>
					<#elseif content.xuetangClassify == '书单'>
						<input type="radio" name="xueTangFL" value="百科" onclick="selectBaikeyVal(this.value)">百科</input>
						<input type="radio" name="xueTangFL" value="书单"  checked="checked" onclick="selectBaikeyVal(this.value)">书单</input>
						<input type="radio" name="xueTangFL" value="培训" onclick="selectBaikeyVal(this.value)">培训</input>
					<#elseif content.xuetangClassify == '培训'>
						<input type="radio" name="xueTangFL" value="百科" onclick="selectBaikeyVal(this.value)">百科</input>
						<input type="radio" name="xueTangFL" value="书单" onclick="selectBaikeyVal(this.value)">书单</input>
						<input type="radio" name="xueTangFL" value="培训"  checked="checked" onclick="selectBaikeyVal(this.value)">培训</input>
					</#if>
				<#else>
					<input type="radio" name="xueTangFL" value="百科" onclick="selectBaikeyVal(this.value)">百科</input>
					<input type="radio" name="xueTangFL" value="书单" onclick="selectBaikeyVal(this.value)">书单</input>
					<input type="radio" name="xueTangFL" value="培训" onclick="selectBaikeyVal(this.value)">培训</input>
				</#if>
			</div>
		</div>
		<div id="specialTopicDiv" style="display:none;">
			<#if specialTopicContent??>
				<h3>专题资源上传：</h3><br />
				<select id="topicType" name="topicType">
					<#if specialTopicContent.topicType==0>
						<option value="0" selected="selected">现场专访</option>
						<option value="1">内容分享</option>
						<option value="99">屏蔽</option>
					<#elseif specialTopicContent.topicType==1>
						<option value="0">现场专访</option>
						<option value="1" selected="selected">内容分享</option>
						<option value="99">屏蔽</option>
					<#else>
						<option value="0">现场专访</option>
						<option value="1">内容分享</option>
						<option value="99" selected="selected">屏蔽</option>
					</#if>
				</select>
				<select id="meetingId" name="meetingId" onclick="getLocationSelect(this,${specialTopicContent.siteLocation})">
					<option value="-1">请选择会议</option>
				<#list specialTopicList as meeting>
					<#if meeting.id == specialTopicContent.topicId>
						<option value="${meeting.id}" selected='selected'>${meeting.shortName}</option>
					<#else>
						<option value="${meeting.id}">${meeting.shortName}</option>
					</#if>
				</#list>
				<#list specialTopicList as meeting>
					<input type="hidden" id="meeting${meeting.id}1" value="${meeting.mainPlace}|${meeting.subPlace}" />
				</#list>
				</select>
				<select id="siteLocation" name="siteLocation"></select>
				<input type="hidden" name="specialTopicContentId" value="${specialTopicContent.id}" />
				<input type="hidden" id="sLocation" value="${specialTopicContent.siteLocation}" />
				<input type="hidden" id="subPlaceStr" name="subPlaceStr" value="${specialTopicContent.mainSubPlace}" />
				<div>
					<@p.text id="uploadImgPath12" name="specBigPicture" style="width:220px" value="${content.bigPictureImg?default('')}"/> <input type="button" value="<@s.m "imageupload.preview"/>" onclick="previewImg(12);" class="preview-button"/><br/>
					<span id="ufc2" style="position:relative">
					<input type='text' id='uploadFileText12' size="14"/>  
					<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
					<input onchange="$('#uploadFileText12').val(this.value)" size="14" type="file" id="uploadFile12" class="file-button"/>
					</span>
					<label><input type="checkbox" onclick="$('#mark2').val(this.checked);"/><@s.m "imageupload.mark"/></label><input type="hidden" id="mark2" value="false"/> <input type="button" value="<@s.m "imageupload.upload"/>" onclick="upload(12);" class="upload-button"/><label id="uploadIMgPathRule12"></label><br/>
					<@s.m "global.width"/>: <input type="text" id="zoomWidth2" value="${(channel.contentImgWidth)!}" size="5"/> <@s.m "global.height"/>: <input type="text" id="zoomHeight2" value="${(channel.contentImgWidth)!}" size="5"/> <input type="button" value="<@s.m "imageupload.cut"/>" onclick="imgCut(12);" class="cut-button"/> 
				</div>
				<div>
					<#if content.recommandView==0>
						<input type="radio" name="recommandView" value="0" checked="checked">不推荐</input>
						<input type="radio" name="recommandView" value="1">推荐到首页</input>
					<#else>
						<input type="radio" name="recommandView" value="0">不推荐</input>
						<input type="radio" name="recommandView" value="1" checked="checked">推荐到首页</input>
					</#if>
				</div>
			</#if>
		</div>
		<div id="zhishudatuSC"  sytle="display:none;">
			<h3>指数排行资源上传：</h3>
			<div id="zhishu">
				<#if content.zhishuClassify??>
					<#if content.zhishuClassify == '1'>
						<input type="radio" name="indexrank" value="1" checked="checked" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
					<#elseif content.zhishuClassify == '2'>
						<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" checked="checked" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
					<#elseif content.zhishuClassify == '3'>
						<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" checked="checked" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
					<#elseif content.zhishuClassify == '4'>
						<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" checked="checked" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
					<#elseif content.zhishuClassify == '5'>
						<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" checked="checked" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
					<#elseif content.zhishuClassify == '6'>
						<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" checked="checked" onclick="selectIndexVal(this.value)">图6</input>
					<#else>
						<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
						<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
						<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
						<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
						<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
						<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>	
					</#if>
				<#else>
					<input type="radio" name="indexrank" value="1" onclick="selectIndexVal(this.value)">图1</input>
					<input type="radio" name="indexrank" value="2" onclick="selectIndexVal(this.value)">图2</input>
					<input type="radio" name="indexrank" value="3" onclick="selectIndexVal(this.value)">图3</input>
					<input type="radio" name="indexrank" value="4" onclick="selectIndexVal(this.value)">图4</input>
					<input type="radio" name="indexrank" value="5" onclick="selectIndexVal(this.value)">图5</input>
					<input type="radio" name="indexrank" value="6" onclick="selectIndexVal(this.value)">图6</input>
				</#if>
			</div>
			<div>
				<@p.text id="uploadImgPath11" name="indexrankImg" style="width:220px" value="${content.indexrankImg?default('')}"/> <input type="button" value="<@s.m "imageupload.preview"/>" onclick="previewImg(11);" class="preview-button"/><br/>
				<span id="ufc2" style="position:relative">
				<input type='text' id='uploadFileText11' size="14"/>  
				<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
				<input onchange="$('#uploadFileText11').val(this.value)" size="14" type="file" id="uploadFile11" class="file-button"/>
				</span>
				<label><input type="checkbox" onclick="$('#mark2').val(this.checked);"/><@s.m "imageupload.mark"/></label><input type="hidden" id="mark2" value="false"/> <input type="button" value="<@s.m "imageupload.upload"/>" onclick="upload(11);" class="upload-button"/><label id="uploadIMgPathRule11"></label><br/>
				<@s.m "global.width"/>: <input type="text" id="zoomWidth2" value="${(channel.contentImgWidth)!}" size="5"/> <@s.m "global.height"/>: <input type="text" id="zoomHeight2" value="${(channel.contentImgWidth)!}" size="5"/> <input type="button" value="<@s.m "imageupload.cut"/>" onclick="imgCut(11);" class="cut-button"/> 
			</div>
		</div>
	</div>
</div>

<input type="text" id="bigPictureLocal" name="bigPictureLocal" value="${bigPictureLocal?default('0')}" style="display:none;" />
<input type="text" id="xueTangCatory" name="xueTangCatory" value="${xueTangCatory?default('')}" style="display:none;" />
<input type="text" id="indexrankLocal" name="indexrankLocal" value="${indexrankLocal?default('0')}" style="display:none;" />
<div><label for="channelId" class="error" generated="true"></label></div>
<div id="channelsContainer">
<#list content.channelsWithoutMain as c>
<div style="padding-top:3px">
<#list c.nodeList as node><span>${node.name}</span><#if node_has_next> > </#if></#list>
<a href="javascript:void(0);" onclick="$(this).parent().remove();" class="pn-opt"><@s.m "global.delete"/></a>
<input type="hidden" name="channelIds" value="${c.id}"/></div>
</#list>
</div>
</div>

<div style="float:left;padding-left:7px;<#if topicList?size == 0>display:none</#if>">
<@s.m "content.topicIds"/>: 
<span id="topics">
<select name="topicIds" >
<#list topicList as t>
<option value="${t.id}"  <#if topicIds?seq_contains(t.id)>selected="selected"</#if>>${t.sname}</option>
</#list>
</select>
</span>
</div>
<div style="clear:both"></div>
</@p.td>

<#elseif item.field=="title">
<@p.td required="true" help=item.help helpPosition="${item.helpPosition!2}" label=item.label colspan=item.single?string("2","1") width="${item.single?string(100,50)}">
<@p.text value=content.title class="required" maxlength="150" size="${item.size!70}" name=item.field />
<!-- <label><input type="checkbox" onclick="$('#linkDiv').toggle(this.checked);if(!this.checked){$('#link').val('');}"<#if content.link??> checked="checked"</#if>/><@s.m "content.link"/></label> -->
<div id="linkDiv"<#if !content.link??> style="display:none"</#if>>url: <input type="text" id="link" name="link" title="<@s.m 'contentLink.tip.title'/>" value="${content.link!}" size="35" maxlength="255"/></div>
</@p.td>

<#elseif item.field=="shortTitle">
<#assign h><#if item.help??>${item.help}<#else><@s.m "content."+item.field+".help"/></#if></#assign>
<@p.text value=content.shortTitle class="pn-fruler" maxlength="150" size="${item.size!35}" help="${h}" helpPosition="${item.helpPosition!3}" label=item.label name=item.field colspan=item.single?string("2","1") width="${item.single?string(100,50)}"/>

<#elseif item.field=="titleColor">
<#assign h><#if item.help??>${item.help}<#else><@s.m "content."+item.field+".help"/></#if></#assign>
<@p.td help="${h}" helpPosition="${item.helpPosition!3}" label=item.label colspan=item.single?string("2","1") width="${item.single?string(100,50)}">
<input type="text" id="${item.field}" name="${item.field}" value="${content.titleColor!}" style="width:70px"/>
&nbsp; <label><input type="checkbox" onclick="$('#bold').val(this.checked)"<#if content.bold> checked="checked"</#if>/><@s.m "content.bold"/><input type="hidden" id="bold" name="bold" value="${content.bold?string('true','false')}"/></label>
</@p.td>

<#elseif item.field=="tagStr">
<#assign h><#if item.help??>${item.help}<#else><@s.m "content."+item.field+".help"/></#if></#assign>
<@p.text value=content.tagStr maxlength="50" size="${item.size!35}" help="${h}" helpPosition="${item.helpPosition!2}" label=item.label name=item.field colspan=item.single?string("2","1") width="${item.single?string(100,50)}"/>

<#elseif item.field=="description">
<@p.textarea value=content.description cols="${item.cols!70}" rows="${item.rows!3}" maxlength="255" help=item.help helpPosition="${item.helpPosition!2}" label=item.label name=item.field colspan=item.single?string("2","1") width="${item.single?string(100,50)}"/>

<#elseif item.field=="author">
<@p.td help=item.help helpPosition="${item.helpPosition!2}" label=item.label colspan=item.single?string("2","1") width="${item.single?string(100,50)}">
<@p.text name=item.field value=content.author maxlength="100" size="${item.size!}"/>
</@p.td>

<#elseif item.field=="origin">
<@p.td help=item.help helpPosition="${item.helpPosition!2}" label=item.label colspan=item.single?string("2","1") width="${item.single?string(100,50)}">
<@p.text name=item.field value=content.origin maxlength="100" style="width:70px"/> &nbsp;
<@s.m "content.originUrl"/>: <input type="text" name="originUrl" value="${content.originUrl!}" maxlength="255" style="width:100px"/>
</@p.td>

<#elseif item.field=="viewGroupIds">
<#assign h><#if item.help??>${item.help}<#else><@s.m "content."+item.field+".help"/></#if></#assign>
<@p.checkboxlist list=groupList valueList=groupIds listKey="id" listValue="name" help="${h}" helpPosition="${item.helpPosition!2}" label=item.label name=item.field colspan=item.single?string("2","1") width="${item.single?string(100,50)}"/>

<#elseif item.field=="topLevel">
<@p.td help=item.help helpPosition="${item.helpPosition!2}" label=item.label colspan=item.single?string("2","1") width="${item.single?string(100,50)}">
<input type="text" name="topLevel" value="${content.topLevel!}" required="true" class="required digits" maxlength="2" style="width:20px"/>
&nbsp;<@s.m "content.sortDate"/>: <@p.text name="sortDate" value=content.sortDate style="width:140px" onclick="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})" class="Wdate"/>
</@p.td>

<#elseif item.field=="releaseDate">
<#assign h><#if item.help??>${item.help}<#else><@s.m "content."+item.field+".help"/></#if></#assign>
<@p.text value=content.releaseDate style="width:140px" onclick="WdatePicker({dateFmt:'yyyy-MM-dd HH:mm:ss'})" class="Wdate" help="${h!}" helpPosition="${item.helpPosition!2}" label=item.label name=item.field colspan=item.single?string("2","1") width="${item.single?string(100,50)}"/>

<#elseif item.field=="typeId">
<@p.td help=item.help helpPosition="${item.helpPosition!2}" label=item.label colspan=item.single?string("2","1") width="${item.single?string(100,50)}">
<@p.select value=content.type.id list=typeList listKey="id" listValue="name" onchange="typeChange(this.selectedIndex)" name=item.field colspan=item.single?string("2","1") width="${item.single?string(100,50)}"/>
&nbsp; <label><input type="checkbox" onclick="$('#recommend').val(this.checked)"<#if content.recommend> checked="checked"</#if>/><@s.m "content.recommend"/><input type="hidden" id="recommend" name="recommend" value="${content.recommend?string('true','false')}"/></label>
&nbsp; <label><input type="checkbox" onclick="$('#draft').val(this.checked)"<#if content.draft> checked="checked"</#if>/><@s.m "content.draft"/><input type="hidden" id="draft" name="draft" value="${content.draft?string('true','false')}"/></label>
</@p.td>

<#elseif item.field=="tplContent">
<#assign h><#if item.help??>${item.help}<#else><@s.m "content."+item.field+".help"/></#if></#assign>
<@p.select value=tplContent list=tplList headerKey="" headerValue="global.default" name=item.field help="${h}" helpPosition="${item.helpPosition!2}" label=item.label colspan=item.single?string("2","1") width="${item.single?string(100,50)}"/>

<#elseif item.field=="typeImg">
<@p.td id="typeImg" label=item.label colspan="1" width="50" noHeight="true">
<@p.text id="uploadImgPath0" name="typeImg" value=content.typeImg style="width:220px"/> <input type="button" value="<@s.m "imageupload.preview"/>" onclick="previewImg(0);" class="preview-button"/><br/>
<span id="ufc0" style="position:relative">
<input type='text' id='uploadFileText0' size="14"/>  
<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
<input onchange="$('#uploadFileText0').val(this.value)" size="14" type="file" id="uploadFile0" class="file-button"/>
</span>
<label><input type="checkbox" onclick="$('#mark0').val(this.checked);"/><@s.m "imageupload.mark"/></label><input type="hidden" id="mark0" value="false"/> <input type="button" value="<@s.m "imageupload.upload"/>" onclick="upload(0);" class="upload-button"/><br/>
<@s.m "global.width"/>: <input type="text" id="zoomWidth0" value="${content.type.imgWidth}" size="5"/> <@s.m "global.height"/>: <input type="text" id="zoomHeight0" value="${content.type.imgHeight}" size="5"/> <input type="button" value="<@s.m "imageupload.cut"/>" onclick="imgCut(0);" class="cut-button"/> 
</@p.td><@p.td colspan="1" width="50">
<!-- <img id="preImg0" alt="<@s.m "imageupload.preview"/>" style="width:100px;height:70px;background-color:#ccc;border:1px solid #333"/> -->
<input name="oldTitleImg" value="${content.typeImg!}" type="hidden"/>
</@p.td>

<#elseif item.field=="titleImg" && (channel.hasTitleImg)!true>
<@p.td id="titleImg" label=item.label colspan="1" width="50" noHeight="true">
<@p.text id="uploadImgPath1" name="titleImg" value=content.titleImg style="width:220px"/> <input type="button" value="<@s.m "imageupload.preview"/>" onclick="previewImg(1);" class="preview-button"/><br/>
<span id="ufc1" style="position:relative">
<input type='text' id='uploadFileText1' size="14"/>  
<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
<input onchange="$('#uploadFileText1').val(this.value)" size="14" type="file" id="uploadFile1" class="file-button"/>
</span>
<label><input type="checkbox" onclick="$('#mark1').val(this.checked);"/><@s.m "imageupload.mark"/></label><input type="hidden" id="mark1" value="false"/> <input type="button" value="<@s.m "imageupload.upload"/>" onclick="upload(1);" class="upload-button"/><br/>
<@s.m "global.width"/>: <input type="text" id="zoomWidth1" value="${(channel.titleImgWidth)!}" size="5"/> <@s.m "global.height"/>: <input type="text" id="zoomHeight1" value="${(channel.titleImgHeight)!}" size="5"/> <input type="button" value="<@s.m "imageupload.cut"/>" onclick="imgCut(1);" class="cut-button"/> 
</@p.td><@p.td colspan="1" width="50">
<!-- <img id="preImg1" alt="<@s.m "imageupload.preview"/>" style="width:100px;height:70px;background-color:#ccc;border:1px solid #333"/> -->
<input name="oldTypeImg" value="${content.titleImg!}" type="hidden"/>
</@p.td>

<#elseif item.field=="contentImg" && (channel.hasContentImg)!true>
<@p.td id="contentImg" label=item.label colspan="1" width="50" noHeight="true">
<@p.text id="uploadImgPath2" name="contentImg" value=content.contentImg style="width:220px"/> <input type="button" value="<@s.m "imageupload.preview"/>" onclick="previewImg(2);" class="preview-button"/><br/>
<span id="ufc2" style="position:relative">
<input type='text' id='uploadFileText2' size="14"/>  
<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
<input onchange="$('#uploadFileText2').val(this.value)" size="14" type="file" id="uploadFile2" class="file-button"/>
</span>
<label><input type="checkbox" onclick="$('#mark2').val(this.checked);"/><@s.m "imageupload.mark"/></label><input type="hidden" id="mark2" value="false"/> <input type="button" value="<@s.m "imageupload.upload"/>" onclick="upload(2);" class="upload-button"/><label id="uploadIMgPathRule2"></label><br/>
<@s.m "global.width"/>: <input type="text" id="zoomWidth2" value="${(channel.contentImgWidth)!}" size="5"/> <@s.m "global.height"/>: <input type="text" id="zoomHeight2" value="${(channel.contentImgWidth)!}" size="5"/> <input type="button" value="<@s.m "imageupload.cut"/>" onclick="imgCut(2);" class="cut-button"/> 
</@p.td><@p.td colspan="1" width="50">
<!-- <img id="preImg2" alt="<@s.m "imageupload.preview"/>" style="width:100px;height:70px;background-color:#ccc;border:1px solid #333"/> -->
<input name="oldContentImg" value="${content.contentImg!}" type="hidden"/>
</@p.td>

<#elseif item.field=="attachments">
<@p.td label=item.label colspan="2" noHeight="true">
<div>
<span id="aspanButtonPlaceHolder"></span>
<span style="display: none;"><input class="cancel" id="abtnCancel" type="button" value="<@s.m "global.cancel"/>" onclick="swfu.cancelQueue();" disabled="disabled" /></span>
<div id="afsUploadProgress" style="display: none;"></div>
</div>
<table id="attachTable" border="0">
<tr>
	<td align="center"></td>
	<td align="center"><@s.m "content.attachmentName"/></td>
	<td align="center"><@s.m "content.attachmentPath"/></td>
	<td align="center"><@s.m "content.fileUpload"/></td></tr>
<#list content.attachments as attach>
<tr id="attachTr${attach_index}">
	<td align="center"><a onclick="$('#attachTr${attach_index}').remove();" href="javascript:void(0);" class="pn-opt"><@s.m "content.attachmentDelLine"/></a></td>
	<td align="center"><input type="text" id="attachmentNames${attach_index}" name="attachmentNames" value="${attach.name!}"/></td>
	<td align="center"><input type="text" id="attachmentPaths${attach_index}" name="attachmentPaths" value="${attach.path!}"/></td>
	<td align="center">
		<span id="afc${attach_index}" style="position:relative;display:block;width:300px;*width:300px;">
		<input type='text' id='attachmentText${attach_index}'/>  
		<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
		<input onchange="$('#attachmentText${attach_index}').val(this.value)" size="19" type="file" name="attachmentFile" id="attachmentFile${attach_index}" class="file-button-other"/>
		<input type="button" value="<@s.m "content.fileUpload"/>" onclick="uploadAttachment(${attach_index});" class="upload-button"/>
		</span>
		<input type="hidden" id="attachmentFilenames${attach_index}" name="attachmentFilenames" value="${attach.filename!}"/>
	</td>
</tr>
<input type="hidden" name="oldattachmentPaths" value="${attach.path!}"/>
</#list>
</table>
<textarea id="attachTr" style="display:none">
<tr id="attachTr{0}">
	<td align="center"><a onclick="$('#attachTr{0}').remove();" href="javascript:void(0);" class="pn-opt"><@s.m "content.attachmentDelLine"/></a></td>
	<td align="center"><input type="text" id="attachmentNames{0}" name="attachmentNames"/></td>
	<td align="center"><input type="text" id="attachmentPaths{0}" name="attachmentPaths"/></td>
	<td align="center">
		<span id="afc{0}" style="position:relative;display:block;width:300px;*width:300px;">
		<input type='text' id='attachmentText{0}'/>  
		<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
		<input onchange="$('#attachmentText{0}').val(this.value)" size="19" type="file" name="attachmentFile" id="attachmentFile{0}" class="file-button-other"/>
		<input type="button" value="<@s.m "content.fileUpload"/>" onclick="uploadAttachment({0});"/ class="upload-button">
		</span>
		<input type="hidden" id="attachmentFilenames{0}" name="attachmentFilenames"/>
	</td>
</tr>
</textarea>
<script type="text/javascript">
var attachIndex = ${content.attachments?size};
var attachTpl = $.format($("#attachTr").val());
function addAttachLine() {
	$('#attachTable').append(attachTpl(attachIndex++));
}
</script>
</@p.td>

<#elseif item.field=="media">
<@p.td label=item.label colspan="1" width="50" noHeight="true">
<div>
	<input type="text" id="mediaPath" name="mediaPath" value="${content.mediaPath!}" style="width:265px"/>
	<input type="hidden" id="origFilename" value="${content.mediaPath!}"/>
</div>
<div>
	<span id="mfc" style="position:relative;display:block;width:300px;*width:300px;">
	<input type='text' id='mediaFileText'/>  
	<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
	<input type="button" value="<@s.m "imageupload.upload"/>" onclick="uploadMedia();" class="upload-button"/>
	<input onchange="$('#mediaFileText').val(this.value)" size="19" type="file" name="mediaFile" id="mediaFile" class="file-button-other"/>
	</span> 
</div>
</@p.td>
<@p.td colspan="1" width="50" label="content.mediaType">
<@p.radio name="mediaType" value=content.mediaType list=["WM","REAL","FLV","FLASH","CK"]/>
<div><label for="mediaType" class="error" generated="true"></label></div>
</@p.td>

<#elseif item.field=="txt">
<@p.editor value=content.txt colspan="2" help=item.help helpPosition="${item.helpPosition!}" label=item.label name=item.field/>
<@p.tr/>

<!-- <@p.td colspan="2" label="content.txtattr">
&nbsp; <label><input type="checkbox" onclick="$('#copyimg').val(this.checked)"/><@s.m "content.copyimg"/><input type="hidden" id="copyimg" name="copyimg" value="false"/></label>
<#if site.config.weixinEnable>
<@p.select name="sendType"  id="sendType" onchange="Cms.selectWeiXinType()" headerKey="0" headerValue="content.selecttypetoweixin" list={"1":"content.sendText","2":"content.sendVedio","3":"content.sendContent"}/>
<@p.select name="selectImg" id="selectImg" onchange="Cms.selectWeiXinImg()"  list={"1":"content.typeImg","2":"content.titleImg","3":"content.contentImg","0":"content.weixinImg"}/>
<span  id="imageHelpSpan" style="display: none;"><@s.m "content.image.help"/></span>
</#if>
</@p.td>
<@p.tr/> -->

<#if site.config.weixinEnable>
<@p.td colspan="1" width="50" label="content.weixinImg">
<@p.text id="uploadImgPath4" name="weixinImg" style="width:220px"/> <input type="button" value="<@s.m "imageupload.preview"/>" onclick="previewImg(4);" class="preview-button"/><br/>
<span id="ufc4" style="position:relative">
<input type='text' id='uploadFileText4' size="14"/>  
<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
<input onchange="$('#uploadFileText4').val(this.value)" size="14" type="file" id="uploadFile4" class="file-button"/>
</span>
<label><input type="checkbox" onclick="$('#mark4').val(this.checked);"/><@s.m "imageupload.mark"/></label><input type="hidden" id="mark4" value="false"/> <input type="button" value="<@s.m "imageupload.upload"/>" onclick="upload(4);" class="upload-button"/><br/>
<@s.m "global.width"/>: <input type="text" id="zoomWidth4" value="${(channel.titleImgWidth)!}" size="5"/> <@s.m "global.height"/>: <input type="text" id="zoomHeightweixin" value="${(channel.titleImgHeight)!}" size="5"/> <input type="button" value="<@s.m "imageupload.cut"/>" onclick="imgCut(4);" class="cut-button"/> 
</@p.td>
<@p.td colspan="1" width="50">
<!-- <img id="preImg4" alt="<@s.m "imageupload.preview"/>" style="width:100px;height:70px;background-color:#ccc;border:1px solid #333"/> -->
</@p.td><@p.tr/>
</#if>

<#elseif item.field=="txt1">
<@p.editor value=content.txt1 colspan="2" help=item.help helpPosition="${item.helpPosition!}" label=item.label name=item.field/>

<#elseif item.field=="txt2">
<@p.editor value=content.txt2 colspan="2" help=item.help helpPosition="${item.helpPosition!}" label=item.label name=item.field/>

<#elseif item.field=="txt3">
<@p.editor value=content.txt3 colspan="2" help=item.help helpPosition="${item.helpPosition!}" label=item.label name=item.field/>

<#elseif item.field=="pictures">
<@p.td label=item.label colspan="2" noHeight="true">
<div>
<span id="spanButtonPlaceHolder"></span>
<span style="display: none;"><input class="cancel" id="btnCancel" type="button" value="<@s.m "global.cancel"/>" onclick="swfu.cancelQueue();" disabled="disabled" /></span>
<div id="fsUploadProgress" style="display: none;"></div>
</div>
<#list content.pictures as p>
<table id="picTable${p_index+3}" border="0" style="float:left;">
<tr>
	<td>
		<div><input type="text" id="uploadImgPath${p_index+3}" name="picPaths" value="${p.imgPath}" style="width:170px"/> <a href="javascript:void(0);" onclick="$('#picTable${p_index+3}').remove();" class="pn-opt"><@s.m "content.picturesDel"/></a></div>
		<div>
		<span id="ufc${p_index+3}" style="position:relative">
		<input type='text' id='uploadFileText${p_index+3}' size="10"/>  
		<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
		<input onchange="$('#uploadFileText${p_index+3}').val(this.value)" size="10" type="file" id="uploadFile${p_index+3}" class="file-button"/>
		</span> 
		<input type="button" value="<@s.m "content.fileUpload"/>" onclick="upload(${p_index+3});" class="upload-button"/>
		</div>
		<div><textarea style="width:200px;height:60px;" name="picDescs" maxlength="255">${p.description!}</textarea></div>
	</td>
	<td><img id="preImg${p_index+3}" src="${p.imgPath}" alt="<@s.m "imageupload.preview"/>" noResize="true" style="width:110px;height:110px;background-color:#ccc;border:1px solid #333"/></td>
</tr>
</table>
<input type="hidden" name="oldpicPaths" value="${p.imgPath!}"/>
</#list>
<div id="picBefore" style="clear:both"></div>
<textarea id="picTable" style="display:none;">
<table id="picTable{0}" border="0" style="float:left;">
<tr>
	<td>
		<div><input type="text" id="uploadImgPath{0}" name="picPaths" style="width:160px"/> <a href="javascript:void(0);" onclick="$('#picTable{0}').remove();" class="pn-opt"><@s.m "content.picturesDel"/></a></div>
		<div>
		<span id="ufc{0}" style="position:relative">
		<input type='text' id='uploadFileText{0}' size="10"/>  
		<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
		<input onchange="$('#uploadFileText{0}').val(this.value)" size="10" type="file" id="uploadFile{0}" class="file-button"/>
		</span> 
		<input type="button" value="<@s.m "content.fileUpload"/>" onclick="upload({0});" class="upload-button"/>
		</div>
		<div>&lt;textarea style="width:200px;height:60px;" name="picDescs" maxlength="255"&gt;&lt;/textarea&gt;</div>
	</td>
	<td><img id="preImg{0}" alt="<@s.m "imageupload.preview"/>" noResize="true" style="width:110px;height:110px;background-color:#ccc;border:1px solid #333"/></td>
</tr>
</table>
</textarea>
<script type="text/javascript">
var picIndex = ${content.pictures?size} + 4;
var picTpl = $.format($("#picTable").val());
function addPicLine() {
	$('#picBefore').before(picTpl(picIndex++));
}
</script>
</@p.td>
<#elseif item.field=="docPath">
<@p.td help=item.help helpPosition="${item.helpPosition!2}" label=item.label colspan=item.single?string("2","1") width="${item.single?string(100,50)}">
<div>
	<input type="text" id="docPath" name="docPath" style="width:265px" value="${content.docPath}" required="true" class="required"/>
	<input type="hidden" id="fileSuffix" name="fileSuffix" value="${content.fileSuffix}"/>
</div>
<div>
	<span id="mfc" style="position:relative;display:block;width:300px;*width:300px;">
	<input type='text' id='docFileText'/>  
	<input class="browse" type='button' value='<@s.m "global.browse"/>'/>
	<input onchange="$('#docFileText').val(this.value)" size="19" type="file" name="docFile" id="docFile" style="height:24px;opacity:0;filter:alpha(opacity=0);position:absolute;right:79px;top:2px;"/>
	<input type="button" value="<@s.m "imageupload.upload"/>" onclick="uploadDoc();" class="upload-button"/>
	</span> 
</div>
</@p.td>
<#elseif item.field=="downNeed">
<@p.td help=item.help helpPosition="${item.helpPosition!2}" label=item.label colspan=item.single?string("2","1") width="${item.single?string(100,50)}">
<@p.text name=item.field value=content.downNeed maxlength="100" size="${item.size!}" required="true" class="required digits" />
</@p.td>

<#elseif item.field=="isOpen">
<@p.td help=item.help helpPosition="${item.helpPosition!2}" label=item.label colspan=item.single?string("2","1") width="${item.single?string(100,50)}">
<@p.radio name=item.field value=content.hasOpen list={"true":"global.true","false":"global.false"} required="true"/><@p.tr/>
</@p.td>

</#if>

<#else>
<@p.selfDefineWidget name="attr_${item.field}" value=content.attr[item.field] size="${item.size!}" list="${item.optValue!}" help=item.help helpPosition="${item.helpPosition!2}" rows="${item.rows!}" cols="${item.cols!}" label=item.label colspan=item.single?string("2","1") width="${item.single?string(100,50)}" type="${item.dataType}"/>
</#if>

<#if count%2==0></tr><tr<#if item_has_next><#assign f=itemList[item_index+1].field/> id="tr-${f}"<#if (f=="typeImg" && !typeList[0].hasImage) || (f=="titleImg" && (!channel?? || !channel.hasTitleImg) || (f=="contentImg" && (!channel?? || !channel.hasContentImg)))> style="display:none"</#if></#if>></#if>

</#list>
<@p.td colspan="2">
	<@p.hidden name="id" value=content.id/>
	<@p.submit code="global.submit" onclick="return submitContent()"/> &nbsp; <@p.reset code="global.reset"/>
		<input type="hidden" name="pageNo" value="${pageNo!}"/>
		<input type="hidden" name="cid" value="${cid!}"/>
		<#list .data_model?keys as pkey>
	<#if pkey?starts_with('query')><input type="hidden" name="${pkey}" value="${(.data_model[pkey])!?string}"/></#if><#t/>
		</#list>
</@p.td>
</@p.form>
</div>
<div id="channelsDialog" title="<@s.m "content.selectChannels"/>" style="display:none;">
<ul id="channelsSelector" class="filetree"></ul>
</div>
</body>
</html>
<script type="text/javascript">
	$(function(){
		var firstVal = $("#meetingId").val();
		var sLocation = $("#sLocation").val();
		if (firstVal > -1){
			var meetingValue = $("#meeting"+firstVal+"1").val();
			var meets = meetingValue.split("|");
			var mainPlace = meets[0];
			var subPlace = meets[1];
			
			var siteLocation = $("#siteLocation");
			siteLocation.empty();
			siteLocation.append("<option value='-1'>请选择会场</option>");
			siteLocation.append("<optgroup label='---主会场---'></optgroup>");
			if (sLocation == 1){
				siteLocation.append("<option value='1' selected='selected'>"+mainPlace+"</option>");
			}else{
				siteLocation.append("<option value='1'>"+mainPlace+"</option>");
			}
			siteLocation.append("<optgroup label='---子会场---'></optgroup>");
			if (subPlace.length > 0){
				var subs = subPlace.split(",");
				for (var i=0;i<subs.length;i++){
					if ((i+2) == sLocation){
						siteLocation.append("<option value='"+(i+2)+"' selected='selected'>"+subs[i]+"</option>");
					}else{
						siteLocation.append("<option value='"+(i+2)+"'>"+subs[i]+"</option>");
					}
				}
			}
		}
	});
	

	function getLocationSelect(metting,siteLocation){
		var index = metting.selectedIndex; // 选中索引
		var value = metting.options[index].value; // 选中值
		if (value > -1){
			var meetingValue = $("#meeting"+value+"1").val();
			var meets = meetingValue.split("|");
			var mainPlace = meets[0];
			var subPlace = meets[1];
			$("#subPlaceStr").val(meetingValue);
			var siteLocation = $("#siteLocation");
			siteLocation.empty();
			siteLocation.append("<option value='-1'>请选择会场</option>");
			siteLocation.append("<optgroup label='---主会场---'></optgroup>");
			siteLocation.append("<option value='1'>"+mainPlace+"</option>");
			siteLocation.append("<optgroup label='---子会场---'></optgroup>");
			if (subPlace.length > 0){
				var subs = subPlace.split(",");
				for (var i=0;i<subs.length;i++){
					if ((i+2) == siteLocation){
						siteLocation.append("<option value='"+(i+2)+"' selected='selected'>"+subs[i]+"</option>");
					}else{
						siteLocation.append("<option value='"+(i+2)+"'>"+subs[i]+"</option>");
					}
				}
			}
		}else{
			var siteLocation = $("#siteLocation");
			siteLocation.empty();
		}
	}
</script>